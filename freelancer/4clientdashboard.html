<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   Client Dashboard - SwiftWork!
  </title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&amp;display=swap" rel="stylesheet"/>
  <style>
   body {
            font-family: 'Roboto', sans-serif;
        }
  </style>
 </head>
 <body class="bg-gray-100">
  <header class="bg-blue-600 shadow-md">
   <div class="container mx-auto px-4 py-4 flex justify-between items-center">
    <a class="text-2xl font-bold text-white flex items-center" href="#">
     <img alt="SwiftWork! logo with a sleek and modern design, featuring a stylized briefcase icon next to the text 'SwiftWork!'" class="h-8 w-8 mr-2" src="https://storage.googleapis.com/a1aa/image/g3qBykI9KvYOBZHYfLDKBpT3qUmfU6Hb2WfciHnPaDEXNxtnA.jpg"/>
     SwiftWork!
    </a>
    <nav class="space-x-4">
     <a class="text-white hover:text-gray-200" href="landing.html">
      Home
     </a>
     <a class="text-white hover:text-gray-200" href="6clientprofile.html">
      Profile
     </a>
    </nav>
   </div>
  </header>
  <!-- Client Dashboard -->
  <section class="py-20">
   <div class="container mx-auto px-4">
    <h2 class="text-3xl font-bold mb-8">
     Your Job Postings
    </h2>
    <div class="flex justify-end mb-8">
     <a class="bg-blue-600 text-white px-4 py-2 rounded-lg font-bold hover:bg-blue-700" href="#">
      Create New Job
     </a>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
     <div class="bg-white p-6 rounded-lg shadow-md">
      <h3 class="text-xl font-bold mb-2">
       Job Title 1
      </h3>
      <p class="text-gray-700 mb-2">
       Description: Brief description of the job.
      </p>
      <p class="text-gray-700 mb-2">
       Budget: $500
      </p>
      <p class="text-gray-700 mb-4">
       Status: Open
      </p>
      <a class="bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-bold hover:bg-gray-300" href="#">
       View Bids
      </a>
     </div>
     <div class="bg-white p-6 rounded-lg shadow-md">
      <h3 class="text-xl font-bold mb-2">
       Job Title 2
      </h3>
      <p class="text-gray-700 mb-2">
       Description: Brief description of the job.
      </p>
      <p class="text-gray-700 mb-2">
       Budget: $300
      </p>
      <p class="text-gray-700 mb-4">
       Status: In Progress
      </p>
      <a class="bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-bold hover:bg-gray-300" href="#">
       View Bids
      </a>
     </div>
     <div class="bg-white p-6 rounded-lg shadow-md">
      <h3 class="text-xl font-bold mb-2">
       Job Title 3
      </h3>
      <p class="text-gray-700 mb-2">
       Description: Brief description of the job.
      </p>
      <p class="text-gray-700 mb-2">
       Budget: $700
      </p>
      <p class="text-gray-700 mb-4">
       Status: Completed
      </p>
      <a class="bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-bold hover:bg-gray-300" href="#">
       View Bids
      </a>
     </div>
     <div class="bg-white p-6 rounded-lg shadow-md">
      <h3 class="text-xl font-bold mb-2">
       Job Title 4
      </h3>
      <p class="text-gray-700 mb-2">
       Description: Brief description of the job.
      </p>
      <p class="text-gray-700 mb-2">
       Budget: $400
      </p>
      <p class="text-gray-700 mb-4">
       Status: Open
      </p>
      <a class="bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-bold hover:bg-gray-300" href="#">
       View Bids
      </a>
     </div>
     <div class="bg-white p-6 rounded-lg shadow-md">
      <h3 class="text-xl font-bold mb-2">
       Job Title 5
      </h3>
      <p class="text-gray-700 mb-2">
       Description: Brief description of the job.
      </p>
      <p class="text-gray-700 mb-2">
       Budget: $600
      </p>
      <p class="text-gray-700 mb-4">
       Status: In Progress
      </p>
      <a class="bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-bold hover:bg-gray-300" href="#">
       View Bids
      </a>
     </div>
     <div class="bg-white p-6 rounded-lg shadow-md">
      <h3 class="text-xl font-bold mb-2">
       Job Title 6
      </h3>
      <p class="text-gray-700 mb-2">
       Description: Brief description of the job.
      </p>
      <p class="text-gray-700 mb-2">
       Budget: $800
      </p>
      <p class="text-gray-700 mb-4">
       Status: Completed
      </p>
      <a class="bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-bold hover:bg-gray-300" href="#">
       View Bids
      </a>
     </div>
    </div>
   </div>
  </section>
  <footer class="bg-black text-white py-6">
   <div class="container mx-auto px-4 text-center">
    <p>
     Â© 2024 SwiftWork! All rights reserved.
    </p>
   </div>
  </footer>
  <script>
    const userId = localStorage.getItem('swiftWork_ID');

    if (userId) {
      fetch(`http://localhost:5000/api/v1/client/${userId}`)
        .then(response => response.json())
        .then(data => {
          if (data.client) {
            document.getElementById('client-name').textContent = `Name: ${data.client.name}`;
            document.getElementById('client-email').textContent = `Email: ${data.client.email}`;
            const gigsList = document.getElementById('gigs-list');
            data.client.gigs.forEach(gig => {
              const gigItem = document.createElement('li');
              gigItem.style.padding = '0.5rem';
              gigItem.style.margin = '0.5rem 0';
              gigItem.style.backgroundColor = '#e9ecef';
              gigItem.style.borderRadius = '5px';
              gigItem.textContent = `${gig.title} - ${gig.description} (Budget: $${gig.budget})`;
              gigsList.appendChild(gigItem);
            });
            
            // Display the profile picture
            const profilePicElement = document.getElementById('profile-pic');
            if (data.client.profilePic) {
              profilePicElement.src = data.client.profilePic;  // Assuming the backend provides the URL to the profile picture
            } else {
              profilePicElement.src = 'default-profile-pic.jpg'; // Placeholder image if no profile picture
            }
          } else {
            alert("Client data not found.");
          }
        })
        .catch(error => {
          console.error('Error fetching client data:', error);
          alert('Error fetching client data.');
        });
    } else {
      alert('User not logged in. Redirecting to login...');
      window.location.href = 'login.html';
    }
  </script>
 </body>
</html>